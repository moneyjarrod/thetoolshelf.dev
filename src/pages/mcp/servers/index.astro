---
import { getCollection } from 'astro:content';
import Base from '../../../layouts/Base.astro';
import ListingCard from '../../../components/ListingCard.astro';

const servers = await getCollection('servers');
const sorted = servers.sort((a, b) => a.data.name.localeCompare(b.data.name));
---

<Base
  title="All MCP Server Reviews"
  description="Every MCP server we've tested â€” honest reviews with setup guides, client compatibility, and paste-ready configs."
>
  <div class="container" style="padding-top: 2rem; padding-bottom: 3rem;">
    <h1>All MCP Server Reviews</h1>
    <p style="color: var(--text-secondary); margin-bottom: 2rem;">
      {servers.length} servers tested and reviewed. Every listing includes honest pros and cons,
      client compatibility data, and working config you can paste.
    </p>

    <div class="listing-grid">
      {sorted.map(server => (
        <ListingCard
          slug={server.id}
          name={server.data.name}
          description={server.data.description}
          verdict={server.data.verdict}
          language={server.data.language}
          setup_difficulty={server.data.setup_difficulty}
          category={server.data.category}
        />
      ))}
    </div>
  </div>
</Base>
