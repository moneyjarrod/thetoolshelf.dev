---
import { getCollection } from 'astro:content';
import Base from '../layouts/Base.astro';
import ListingCard from '../components/ListingCard.astro';

const servers = await getCollection('servers');
const featured = servers
  .filter(s => s.data.verdict === 'recommended')
  .slice(0, 6);
---

<Base
  title="ToolShelf â€” AI Tools That Actually Work"
  description="Hand-curated directory of AI integration tools. Honest reviews, compatibility testing, and setup guides. Starting with MCP servers."
>
  <div class="container" style="padding-top: 3rem; padding-bottom: 3rem;">
    <div style="margin-bottom: 3rem;">
      <h1 style="font-size: 2rem;">AI tools that actually work.</h1>
      <p style="font-size: 1.15rem; color: var(--text-secondary); max-width: 560px;">
        Hand-curated directory of AI integration tools â€” starting with MCP servers.
        Every tool installed, tested, and honestly reviewed.
      </p>
    </div>

    <h2><a href="/mcp/">MCP Servers</a></h2>
    <p style="color: var(--text-secondary); margin-bottom: 1.25rem;">
      {servers.length} servers reviewed with honest pros, cons, client compatibility, and paste-ready configs.
    </p>

    {featured.length > 0 && (
      <div class="listing-grid" style="margin-bottom: 2rem;">
        {featured.map(server => (
          <ListingCard
            slug={server.id}
            name={server.data.name}
            description={server.data.description}
            verdict={server.data.verdict}
            language={server.data.language}
            setup_difficulty={server.data.setup_difficulty}
            category={server.data.category}
          />
        ))}
      </div>
    )}

    <p><a href="/mcp/servers/">View all MCP server reviews â†’</a></p>

    <div style="margin-top: 2.5rem;">
      <h2>Browse by Category</h2>
      <div class="listing-grid" style="margin-top: 0.75rem;">
        <a href="/mcp/best-for-databases/" class="listing-card"><h3 class="card-name">ğŸ—„ï¸ Databases</h3><p class="card-desc">Postgres, MySQL, MongoDB, SQLite, Redis</p></a>
        <a href="/mcp/best-for-devops/" class="listing-card"><h3 class="card-name">ğŸ”§ DevOps</h3><p class="card-desc">GitHub, GitLab, Docker, Jira, Linear</p></a>
        <a href="/mcp/best-for-web-scraping/" class="listing-card"><h3 class="card-name">ğŸŒ Web Scraping</h3><p class="card-desc">Firecrawl, Playwright, Browserbase</p></a>
        <a href="/mcp/best-for-productivity/" class="listing-card"><h3 class="card-name">ğŸ’¬ Productivity</h3><p class="card-desc">Slack, Notion, Google Drive, Obsidian</p></a>
        <a href="/mcp/best-for-cloud/" class="listing-card"><h3 class="card-name">â˜ï¸ Cloud</h3><p class="card-desc">AWS, Azure, Cloudflare, Terraform</p></a>
        <a href="/mcp/best-for-search/" class="listing-card"><h3 class="card-name">ğŸ” Search</h3><p class="card-desc">Brave, Exa, Tavily, Context7</p></a>
        <a href="/mcp/best-for-local-tools/" class="listing-card"><h3 class="card-name">ğŸ“ Local Tools</h3><p class="card-desc">Filesystem, Desktop Commander, Memory</p></a>
        <a href="/mcp/best-for-coding/" class="listing-card"><h3 class="card-name">ğŸ¤– Coding</h3><p class="card-desc">shadcn/ui, Grafana, Stripe, Postman</p></a>
      </div>
    </div>
  </div>
</Base>
